<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حجرة القيادة | رادار 24</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body style="background: #eef2f7;">

    <div id="loginGate" class="admin-login-wrapper">
        <div style="font-size: 3rem; color: var(--main-blue); margin-bottom: 20px;"><i class="fas fa-user-shield"></i></div>
        <h2 style="color: var(--main-blue);">دخول الإدارة</h2>
        <p style="margin-bottom: 20px; color: #666;">شبكة رادار 24 الإخبارية</p>
        <input type="password" id="adminPass" placeholder="أدخل كلمة السر" style="width:100%; padding:12px; border:1px solid #ccc; border-radius:6px; margin-bottom:15px; text-align: center;">
        <button onclick="unlockRadar()" class="btn-post">دخول النظام</button>
    </div>

    <div id="radarDashboard" class="container" style="display: none; margin-top: 50px; max-width: 700px;">
        <div class="admin-panel" style="background: white; padding: 30px; border-radius: 12px; box-shadow: var(--shadow);">
            <h2 style="color: var(--main-blue); border-bottom: 2px solid var(--radar-red); padding-bottom: 10px; margin-bottom: 25px;">
                <i class="fas fa-plus-circle"></i> نشر خبر جديد
            </h2>
            
            <div class="input-group">
                <label><i class="fas fa-font"></i> عنوان الخبر:</label>
                <input type="text" id="newsTitle" placeholder="مثلاً: عاجل.. حدث هام في العاصمة">
            </div>

            <div class="input-group">
                <label><i class="fas fa-list"></i> تصنيف القسم:</label>
                <select id="newsCategory">
                    <option value="أخبار العالم">أخبار العالم</option>
                    <option value="عاجل">عاجل</option>
                    <li><option value="سياسة">سياسة</option></li>
                    <option value="تكنولوجيا">تكنولوجيا</option>
                </select>
            </div>

            <div class="input-group">
                <label><i class="fas fa-image"></i> رابط صورة الخبر (URL):</label>
                <input type="text" id="newsImg" placeholder="انسخ رابط أي صورة من الإنترنت وضعه هنا">
            </div>

            <div class="input-group">
                <label><i class="fas fa-align-right"></i> تفاصيل الخبر:</label>
                <textarea id="newsContent" rows="6" placeholder="اكتب تفاصيل الخبر هنا..."></textarea>
            </div>

            <button onclick="publishToRadar()" class="btn-post" style="font-size: 1.1rem;">
                <i class="fas fa-paper-plane"></i> إرسال إلى الصفحة الرئيسية
            </button>
            
            <button onclick="clearAllNews()" style="margin-top: 20px; background: none; border: none; color: gray; cursor: pointer; font-size: 0.8rem;">
                <i class="fas fa-trash"></i> مسح جميع الأخبار القديمة
            </button>
        </div>
    </div>

    <script>
        // دالة الدخول
        function unlockRadar() {
            const pass = document.getElementById('adminPass').value;
            if(pass === "PRO_NWES_2026") {
                document.getElementById('loginGate').style.display = 'none';
                document.getElementById('radarDashboard').style.display = 'block';
            } else {
                alert("كلمة السر خاطئة! حاول مجدداً.");
            }
        }

        // دالة حفظ الخبر
        function publishToRadar() {
            const title = document.getElementById('newsTitle').value;
            const category = document.getElementById('newsCategory').value;
            const image = document.getElementById('newsImg').value || "https://via.placeholder.com/400x250";
            const text = document.getElementById('newsContent').value;
            const time = new Date().toLocaleString('ar-EG', { hour: 'numeric', minute: 'numeric', day: 'numeric', month: 'long' });

            if(!title || !text) {
                alert("يرجى ملء العنوان وتفاصيل الخبر!");
                return;
            }

            const newEntry = { title, category, image, text, time };

            // جلب الأخبار الحالية من التخزين
            let database = JSON.parse(localStorage.getItem('radar_news')) || [];
            database.push(newEntry);

            // حفظ البيانات مجدداً
            localStorage.setItem('radar_news', JSON.stringify(database));

            alert("تم النشر بنجاح! انتقل للصفحة الرئيسية لرؤية الخبر.");
            
            // تفريغ الحقول بعد النشر
            document.getElementById('newsTitle').value = '';
            document.getElementById('newsContent').value = '';
            document.getElementById('newsImg').value = '';
        }

        // مسح الأرشيف
        function clearAllNews() {
            if(confirm("هل أنت متأكد من مسح جميع الأخبار؟")) {
                localStorage.removeItem('radar_news');
                alert("تم تنظيف الأرشيف.");
            }
        }
    </script>
</body>
</html>